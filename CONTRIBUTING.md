Руководство по вкладу

Спасибо за интерес к @iamtoxa/md-engine-core! Этот документ описывает правила и ожидания при работе с репозиторием.


Основные принципы


Стиль коммитов: Conventional Commits (feat, fix, perf, refactor, docs, chore, test, build, ci).
Версионирование: SemVer; журнал изменений — Keep a Changelog.
Качество кода: Biome (формат/линт), TS strict, тесты.
Обсуждения архитектуры фиксируются в ADR (docs/adr).

Требования к окружению


Bun >= 1.2.19
Git >= 2.40

Установка


bun install
bunx lefthook install

Проверки


Формат: bun run format:check
Линт: bun run lint
Типы: bun run typecheck
Тесты: bun test

Процесс разработки


Форк/ветка: feature/<кратко>, fix/<кратко>, docs/<кратко>.
Изменения сопровождайте тестами и документированием (docs при необходимости).
Перед PR выполните все проверки и убедитесь, что CI проходит.
Откройте PR, заполните шаблон, дождитесь ревью.

Коммиты


Примеры:
feat(ecs): добавлен sparse-set для компонентов
fix(net): устранена гонка в кольцевом буфере SAB
perf(runtime): уменьшены аллокации в тике
Один логический шаг — один коммит; избегайте “мешаных” коммитов.

Код-стайл и архитектура


TS strict, явные типы публичных API.
В горячих путях избегайте аллокаций и замыканий.
Пакеты независимы, публичные API стабилизируются через MINOR/MAJOR.

Обсуждение изменений


Существенные решения — через ADR в docs/adr (используйте шаблон 0000-template.md).

Лицензирование


Вклады предоставляются под лицензией Apache-2.0.